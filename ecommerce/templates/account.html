{% extends '_base.html' %}
{% load static %} {% load humanize %} {% load custom_filters %}
{% block content %}
  <section class="container px-4 py-8 mx-auto">
    <div class="flex flex-col items-start justify-between py-10 space-y-8 md:flex-row md:space-x-8">
      {% include 'inc/flash.html' %}
      <!-- Login Form Container -->
      <div class="flex-1 max-w-md mb-8 md:mb-0">
        <h2 class="mb-6 text-4xl font-bold text-center underline dark:text-white underline-offset-3 decoration-8 decoration-blue-400 dark:decoration-blue-600">{{ login }}</h2>
        <form class="p-6 bg-white rounded-lg shadow-md dark:bg-gray-800" action="{% url 'account_form' %}" method="post">
          {% csrf_token %}
          {{ login_form.as_p }}

          <div class="flex items-center mt-5 mb-5">
            <input id="remember" type="checkbox" name="remember" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-blue-600 dark:ring-offset-gray-800" />
            <label for="remember" class="text-sm font-medium text-gray-900 dark:text-gray-300 ms-2">Remember me</label>
          </div>

          <button type="submit" name="login" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Login</button>
        </form>
      </div>

      <!-- Registration Form Container -->
      <div class="flex-1 max-w-md">
        <h2 class="mb-6 text-4xl font-bold text-center underline dark:text-white underline-offset-3 decoration-8 decoration-blue-400 dark:decoration-blue-600">{{ register }}</h2>
        <form action="{% url 'account_form' %}" class="p-6 bg-white rounded-lg shadow-md dark:bg-gray-800" method="post">
          {% csrf_token %}
          {{ reg_form.as_p }}
          <button type="submit" name="register" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mt-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Register</button>
        </form>
      </div>
    </div>
  </section>
{% endblock %}

{% block scripts %}
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      setTimeout(function () {
        const flashMessage = document.getElementById('flash_message')
        if (flashMessage) {
          flashMessage.style.opacity = 0
          setTimeout(() => flashMessage.remove(), 1000)
        }
      }, 2000)
    })
  </script>
{% endblock %}
